<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正在跳轉...</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .redirect-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            padding: 2rem;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="redirect-container">
        <div class="spinner"></div>
        <h2>正在偵測您的裝置...</h2>
        <p>即將為您跳轉至應用程式商店</p>
    </div>
    
    <script>
        (function() {
            // 完善的裝置檢測函數
            function detectDevice() {
                const userAgent = navigator.userAgent || navigator.vendor || window.opera;
                
                // Android 檢測
                const isAndroid = /android/i.test(userAgent) || 
                                 /Android/i.test(userAgent) ||
                                 /Linux/i.test(userAgent) && /Mobile/i.test(userAgent);
                
                // iOS 檢測
                const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;
                
                // 更精確的 iPad 檢測（iOS 13+）
                const isIPad = (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) ||
                              /iPad/.test(userAgent);
                
                return {
                    isAndroid: isAndroid,
                    isIOS: isIOS || isIPad,
                    userAgent: userAgent
                };
            }
            
            // 執行跳轉
            function redirect() {
                const device = detectDevice();
                
                // 目標 URL
                const androidUrl = 'https://play.google.com/store/apps/details?id=com.yyxdev.vigor_android&hl=zh_TW&pli=1';
                const iosUrl = 'https://apps.apple.com/us/app/%E8%BA%8D%E9%BD%A1%E5%81%A5%E5%BA%B7/id6443744551';
                
                // 根據裝置類型跳轉
                if (device.isAndroid) {
                    window.location.href = androidUrl;
                } else if (device.isIOS) {
                    window.location.href = iosUrl;
                } else {
                    // 如果不是行動裝置，顯示選擇頁面
                    showDeviceSelection(androidUrl, iosUrl);
                }
            }
            
            // 顯示裝置選擇頁面（桌面裝置）
            function showDeviceSelection(androidUrl, iosUrl) {
                document.body.innerHTML = `
                    <div class="container">
                        <div class="content">
                            <header>
                                <h1>選擇您的裝置類型</h1>
                                <p class="subtitle">請選擇您要下載的應用程式版本</p>
                            </header>
                            
                            <div class="manual-links">
                                <div class="download-buttons">
                                    <a href="${androidUrl}" 
                                       class="btn btn-android" 
                                       target="_blank" 
                                       rel="noopener noreferrer">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.5,12.92 20.16,13.19L17.19,15.12L14.54,12.85L17.19,10.58L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"/>
                                        </svg>
                                        Android 下載
                                    </a>
                                    <a href="${iosUrl}" 
                                       class="btn btn-ios" 
                                       target="_blank" 
                                       rel="noopener noreferrer">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M17.05,20.28C16.45,20.28 15.85,20.28 15.25,20.28C14.65,20.28 14.15,20.18 13.65,19.98C13.15,19.78 12.75,19.48 12.45,19.08C12.15,18.68 12,18.28 12,17.88C12,17.48 12.1,17.08 12.3,16.68C12.5,16.28 12.75,15.98 13.05,15.78C13.35,15.58 13.65,15.48 13.95,15.48C14.25,15.48 14.55,15.58 14.85,15.78C15.15,15.98 15.4,16.28 15.6,16.68C15.8,17.08 15.9,17.48 15.9,17.88C15.9,18.28 15.75,18.68 15.45,19.08C15.15,19.48 14.75,19.78 14.25,19.98C13.75,20.18 13.25,20.28 12.75,20.28C12.15,20.28 11.55,20.28 10.95,20.28C10.35,20.28 9.85,20.18 9.35,19.98C8.85,19.78 8.45,19.48 8.15,19.08C7.85,18.68 7.7,18.28 7.7,17.88C7.7,17.48 7.8,17.08 8,16.68C8.2,16.28 8.45,15.98 8.75,15.78C9.05,15.58 9.35,15.48 9.65,15.48C9.95,15.48 10.25,15.58 10.55,15.78C10.85,15.98 11.1,16.28 11.3,16.68C11.5,17.08 11.6,17.48 11.6,17.88C11.6,18.28 11.45,18.68 11.15,19.08C10.85,19.48 10.45,19.78 9.95,19.98C9.45,20.18 8.95,20.28 8.45,20.28C7.85,20.28 7.25,20.28 6.65,20.28C6.05,20.28 5.55,20.18 5.05,19.98C4.55,19.78 4.15,19.48 3.85,19.08C3.55,18.68 3.4,18.28 3.4,17.88C3.4,17.48 3.5,17.08 3.7,16.68C3.9,16.28 4.15,15.98 4.45,15.78C4.75,15.58 5.05,15.48 5.35,15.48C5.65,15.48 5.95,15.58 6.25,15.78C6.55,15.98 6.8,16.28 7,16.68C7.2,17.08 7.3,17.48 7.3,17.88C7.3,18.28 7.15,18.68 6.85,19.08C6.55,19.48 6.15,19.78 5.65,19.98C5.15,20.18 4.65,20.28 4.15,20.28C3.55,20.28 2.95,20.28 2.35,20.28C1.75,20.28 1.25,20.18 0.75,19.98C0.25,19.78 -0.15,19.48 -0.45,19.08C-0.75,18.68 -0.9,18.28 -0.9,17.88C-0.9,17.48 -0.8,17.08 -0.6,16.68C-0.4,16.28 -0.15,15.98 0.15,15.78C0.45,15.58 0.75,15.48 1.05,15.48C1.35,15.48 1.65,15.58 1.95,15.78C2.25,15.98 2.5,16.28 2.7,16.68C2.9,17.08 3,17.48 3,17.88C3,18.28 2.85,18.68 2.55,19.08C2.25,19.48 1.85,19.78 1.35,19.98C0.85,20.18 0.35,20.28 -0.15,20.28C-0.75,20.28 -1.35,20.28 -1.95,20.28V3.72C-1.35,3.72 -0.75,3.72 -0.15,3.72C0.35,3.72 0.85,3.82 1.35,4.02C1.85,4.22 2.25,4.52 2.55,4.92C2.85,5.32 3,5.72 3,6.12C3,6.52 2.9,6.92 2.7,7.32C2.5,7.72 2.25,8.02 1.95,8.22C1.65,8.42 1.35,8.52 1.05,8.52C0.75,8.52 0.45,8.42 0.15,8.22C-0.15,8.02 -0.4,7.72 -0.6,7.32C-0.8,6.92 -0.9,6.52 -0.9,6.12C-0.9,5.72 -0.75,5.32 -0.45,4.92C-0.15,4.52 0.25,4.22 0.75,4.02C1.25,3.82 1.75,3.72 2.35,3.72C2.95,3.72 3.55,3.72 4.15,3.72C4.65,3.72 5.15,3.82 5.65,4.02C6.15,4.22 6.55,4.52 6.85,4.92C7.15,5.32 7.3,5.72 7.3,6.12C7.3,6.52 7.2,6.92 7,7.32C6.8,7.72 6.55,8.02 6.25,8.22C5.95,8.42 5.65,8.52 5.35,8.52C5.05,8.52 4.75,8.42 4.45,8.22C4.15,8.02 3.9,7.72 3.7,7.32C3.5,6.92 3.4,6.52 3.4,6.12C3.4,5.72 3.55,5.32 3.85,4.92C4.15,4.52 4.55,4.22 5.05,4.02C5.55,3.82 6.05,3.72 6.65,3.72C7.25,3.72 7.85,3.72 8.45,3.72C8.95,3.72 9.45,3.82 9.95,4.02C10.45,4.22 10.85,4.52 11.15,4.92C11.45,5.32 11.6,5.72 11.6,6.12C11.6,6.52 11.5,6.92 11.3,7.32C11.1,7.72 10.85,8.02 10.55,8.22C10.25,8.42 9.95,8.52 9.65,8.52C9.35,8.52 9.05,8.42 8.75,8.22C8.45,8.02 8.2,7.72 8,7.32C7.8,6.92 7.7,6.52 7.7,6.12C7.7,5.72 7.85,5.32 8.15,4.92C8.45,4.52 8.85,4.22 9.35,4.02C9.85,3.82 10.35,3.72 10.95,3.72C11.55,3.72 12.15,3.72 12.75,3.72C13.25,3.72 13.75,3.82 14.25,4.02C14.75,4.22 15.15,4.52 15.45,4.92C15.75,5.32 15.9,5.72 15.9,6.12C15.9,6.52 15.8,6.92 15.6,7.32C15.4,7.72 15.15,8.02 14.85,8.22C14.55,8.42 14.25,8.52 13.95,8.52C13.65,8.52 13.35,8.42 13.05,8.22C12.75,8.02 12.5,7.72 12.3,7.32C12.1,6.92 12,6.52 12,6.12C12,5.72 12.15,5.32 12.45,4.92C12.75,4.52 13.15,4.22 13.65,4.02C14.15,3.82 14.65,3.72 15.25,3.72C15.85,3.72 16.45,3.72 17.05,3.72V20.28Z"/>
                                        </svg>
                                        iOS 下載
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // 延遲執行跳轉，讓使用者看到載入動畫
            setTimeout(redirect, 500);
        })();
    </script>
</body>
</html>
